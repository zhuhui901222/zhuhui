{"meta":{"title":"blog_zh","subtitle":"","description":"","author":"zhuhui","url":"http://zhuhui.club","root":"/"},"pages":[{"title":"Java","date":"2020-02-24T07:04:29.000Z","updated":"2020-02-24T07:04:29.107Z","comments":true,"path":"Java/index.html","permalink":"http://zhuhui.club/Java/index.html","excerpt":"","text":""},{"title":"Linux","date":"2020-02-24T07:04:49.000Z","updated":"2020-02-24T07:04:49.446Z","comments":true,"path":"Linux/index.html","permalink":"http://zhuhui.club/Linux/index.html","excerpt":"","text":""},{"title":"Php","date":"2020-02-24T07:04:58.000Z","updated":"2020-02-24T07:04:58.693Z","comments":true,"path":"Php/index.html","permalink":"http://zhuhui.club/Php/index.html","excerpt":"","text":""},{"title":"SpringBoot","date":"2020-02-24T07:06:10.000Z","updated":"2020-02-24T07:06:10.959Z","comments":true,"path":"SpringBoot/index.html","permalink":"http://zhuhui.club/SpringBoot/index.html","excerpt":"","text":""},{"title":"About","date":"2020-03-27T16:30:22.279Z","updated":"2020-03-27T16:30:22.279Z","comments":true,"path":"about/index.html","permalink":"http://zhuhui.club/about/index.html","excerpt":"","text":""},{"title":"Categories","date":"2020-03-26T17:45:39.814Z","updated":"2020-03-26T17:45:39.814Z","comments":true,"path":"categories/index.html","permalink":"http://zhuhui.club/categories/index.html","excerpt":"","text":""},{"title":"Tags","date":"2020-03-26T17:45:39.821Z","updated":"2020-03-26T17:45:39.821Z","comments":true,"path":"tags/index.html","permalink":"http://zhuhui.club/tags/index.html","excerpt":"","text":""},{"title":"Linux","date":"2020-02-24T07:04:49.000Z","updated":"2020-02-24T07:04:50.000Z","comments":true,"path":"Java/test/test.html","permalink":"http://zhuhui.club/Java/test/test.html","excerpt":"","text":""}],"posts":[{"title":"java面试基础","slug":"java/java面试-基础","date":"2020-03-26T16:06:00.000Z","updated":"2020-03-27T16:51:46.930Z","comments":true,"path":"2020/03/27/java/java面试-基础/","link":"","permalink":"http://zhuhui.club/2020/03/27/java/java%E9%9D%A2%E8%AF%95-%E5%9F%BA%E7%A1%80/","excerpt":"","text":"\\1******、面向对象的特征有哪些方面**** \\1.******抽象****： 抽象就是忽略一个主题中与当前目标无关的那些方面，以便更充分地注意与当前目标有关的方面。抽象并不打算了解全部问题，而只是选择其中的一部分，暂时不用部分细节。抽象包括两个方面，一是过程抽象，二是数据抽象。 \\2.******继承****： 继承是一种联结类的层次模型，并且允许和鼓励类的重用，它提供了一种明确表述共性的方法。对象的一个新类可以从现有的类中派生，这个过程称为类继承。新类继承了原始类的特性，新类称为原始类的派生类（子类），而原始类称为新类的基类（父类）。派生类可以从它的基类那里继承方法和实例变量，并且类可以修改或增加新的方法使之更适合特殊的需要。 \\3.******封装****： 封装是把过程和数据包围起来，对数据的访问只能通过已定义的界面。面向对象计算始于这个基本概念，即现实世界可以被描绘成一系列完全自治、封装的对象，这些对象通过一个受保护的接口访问其他对象。 \\4.** \\多态性**： 多态性是指允许不同类的对象对同一消息作出响应。多态性包括参数化多态性和包含多态性。多态性语言具有灵活、抽象、行为共享、代码共享的优势，很好的解决了应用程序函数同名问题。","categories":[{"name":"java","slug":"java","permalink":"http://zhuhui.club/categories/java/"}],"tags":[],"author":"zhuhui"},{"title":"线程池大小设置，CPU的核心数、线程数的关系和区别，同步与堵塞完全是两码事","slug":"java/线程池大小设置，CPU的核心数、线程数的关系和区别，同步与堵塞完全是两码事","date":"2020-02-29T06:26:00.000Z","updated":"2020-03-27T16:51:15.874Z","comments":true,"path":"2020/02/29/java/线程池大小设置，CPU的核心数、线程数的关系和区别，同步与堵塞完全是两码事/","link":"","permalink":"http://zhuhui.club/2020/02/29/java/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%A4%A7%E5%B0%8F%E8%AE%BE%E7%BD%AE%EF%BC%8CCPU%E7%9A%84%E6%A0%B8%E5%BF%83%E6%95%B0%E3%80%81%E7%BA%BF%E7%A8%8B%E6%95%B0%E7%9A%84%E5%85%B3%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB%EF%BC%8C%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A0%B5%E5%A1%9E%E5%AE%8C%E5%85%A8%E6%98%AF%E4%B8%A4%E7%A0%81%E4%BA%8B/","excerpt":"","text":"线程池应该设置多少线程合适，怎么样估算出来。最近接触到一些相关资料，现作如下总结。 最开始接触线程池的时候，没有想到就仅仅是设置一个线程池的大小居然还有这么多的学问，汗颜啊。 首先，需要考虑到线程池所进行的工作的性质： IO密集型 CPU密集型 简单的分析来看，如果是CPU密集型的任务，我们应该设置数目较小的线程数，比如CPU数目加1。如果是IO密集型的任务，则应该设置可能多的线程数，由于IO操作不占用CPU，所以，不能让CPU闲下来。当然，如果线程数目太多，那么线程切换所带来的开销又会对系统的响应时间带来影响。 在《linux多线程服务器端编程》中有一个思路，CPU计算和IO的阻抗匹配原则。 如果线程池中的线程在执行任务时，密集计算所占的时间比重为P(0&lt;P&lt;=1)，而系统一共有C个CPU，为了让CPU跑满而又不过载，线程池的大小经验公式 T = C / P。在此，T只是一个参考，考虑到P的估计并不是很准确，T的最佳估值可以上下浮动50%。 这个经验公式的原理很简单，T个线程，每个线程占用P的CPU时间，如果刚好占满C个CPU,那么必有 T * P = C。 下面验证一下边界条件的正确性： 假设C = 8，P = 1.0，线程池的任务完全是密集计算，那么T = 8。只要8个活动线程就能让8个CPU饱和，再多也没用了，因为CPU资源已经耗光了。 假设C = 8，P = 0.5，线程池的任务有一半是计算，有一半在等IO上，那么T = 16.考虑操作系统能灵活，合理调度sleeping/writing/running线程，那么大概16个“50%繁忙的线程”能让8个CPU忙个不停。启动更多的线程并不能提高吞吐量，反而因为增加上下文切换的开销而降低性能。 如果P &lt; 0.2，这个公式就不适用了，T可以取一个固定值，比如 5*C。另外公式里的C不一定是CPU总数，可以是“分配给这项任务的CPU数目”，比如在8核机器上分出4个核来做一项任务，那么C=4 文章如何合理设置线程池大小里面提到了一个公式： 1最佳线程数目 &#x3D; （（线程等待时间+线程CPU时间）&#x2F;线程CPU时间 ）* CPU数目 比如平均每个线程CPU运行时间为0.5s，而线程等待时间（非CPU运行时间，比如IO）为1.5s，CPU核心数为8，那么根据上面这个公式估算得到：((0.5+1.5)/0.5)*8=32。这个公式进一步转化为： 1最佳线程数目 &#x3D; （线程等待时间与线程CPU时间之比 + 1）* CPU数目 可以得出一个结论：线程等待时间所占比例越高，需要越多线程。线程CPU时间所占比例越高，需要越少线程。","categories":[{"name":"java","slug":"java","permalink":"http://zhuhui.club/categories/java/"}],"tags":[{"name":"线程","slug":"线程","permalink":"http://zhuhui.club/tags/%E7%BA%BF%E7%A8%8B/"}],"author":"zhuhui"},{"title":"PHP7有哪些新功能？","slug":"php/PHP7有哪些新功能？","date":"2020-02-24T06:24:00.000Z","updated":"2020-03-27T16:55:11.746Z","comments":true,"path":"2020/02/24/php/PHP7有哪些新功能？/","link":"","permalink":"http://zhuhui.club/2020/02/24/php/PHP7%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B0%E5%8A%9F%E8%83%BD%EF%BC%9F/","excerpt":"","text":"新功能 PHP 7增加了许多特性，其中最重要的特性如下所述 性能改进——在PHP7中合并了PHPNG代码，速度是PHP 5的两倍。 较低的内存消耗——优化的PHP 7使用较少的资源。 标量类型声明——现在可以强制执行参数和返回类型。 64位支持——对64位体系结构计算机的一致支持。 异常层次结构——异常层次结构得到改进。 许多致命错误转换为异常——异常范围增加，包括许多作为异常转换的致命错误。 安全随机数生成器——添加新的安全随机数生成器API。 已删除不推荐使用的SAPI和扩展 ——各种旧的和不支持的SAPI和扩展被从最新版本中删除。 空合并运算符(??)——添加了新的空合并运算符。 返回类型和标量类型声明——支持添加返回类型和参数类型。 匿名类——支持添加匿名。 Zero cost asserts——支持添加Zero cost asserts。 PHP 7使用新的Zend Engine 3.0来改进应用程序性能，其性能几乎是PHP 5.6的两倍，内存消耗也提高了50%。它允许在不需要任何额外硬件的情况下为更多并发用户提供服务。PHP 7是根据当前的工作负载设计和重构的。 本篇文章就是关于PHP7的介绍，希望对需要的朋友有所帮助！","categories":[{"name":"php","slug":"php","permalink":"http://zhuhui.club/categories/php/"}],"tags":[]},{"title":"readme","slug":"go/README","date":"2020-02-24T06:24:00.000Z","updated":"2020-03-27T16:56:43.243Z","comments":true,"path":"2020/02/24/go/README/","link":"","permalink":"http://zhuhui.club/2020/02/24/go/README/","excerpt":"","text":"go语言文档","categories":[{"name":"go","slug":"go","permalink":"http://zhuhui.club/categories/go/"}],"tags":[]},{"title":"readme","slug":"java/README","date":"2020-02-24T06:24:00.000Z","updated":"2020-03-27T16:56:34.018Z","comments":true,"path":"2020/02/24/java/README/","link":"","permalink":"http://zhuhui.club/2020/02/24/java/README/","excerpt":"","text":"java基础 框架 面试等文档","categories":[{"name":"java","slug":"java","permalink":"http://zhuhui.club/categories/java/"}],"tags":[]},{"title":"readme","slug":"c++/README","date":"2020-02-24T06:24:00.000Z","updated":"2020-03-27T16:56:51.304Z","comments":true,"path":"2020/02/24/c++/README/","link":"","permalink":"http://zhuhui.club/2020/02/24/c++/README/","excerpt":"","text":"C++ 数据结构等","categories":[{"name":"c++","slug":"c","permalink":"http://zhuhui.club/categories/c/"}],"tags":[]},{"title":"readme","slug":"linux/README","date":"2020-02-24T06:24:00.000Z","updated":"2020-03-27T16:56:25.122Z","comments":true,"path":"2020/02/24/linux/README/","link":"","permalink":"http://zhuhui.club/2020/02/24/linux/README/","excerpt":"","text":"linux系统 相关文档","categories":[{"name":"linux","slug":"linux","permalink":"http://zhuhui.club/categories/linux/"}],"tags":[]},{"title":"readme","slug":"php/README","date":"2020-02-24T06:24:00.000Z","updated":"2020-03-27T16:56:07.610Z","comments":true,"path":"2020/02/24/php/README/","link":"","permalink":"http://zhuhui.club/2020/02/24/php/README/","excerpt":"","text":"php开发相关文档","categories":[{"name":"php","slug":"php","permalink":"http://zhuhui.club/categories/php/"}],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2020-02-24T02:18:48.789Z","updated":"2020-02-24T02:18:48.789Z","comments":true,"path":"2020/02/24/hello-world/","link":"","permalink":"http://zhuhui.club/2020/02/24/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new postbash1$ hexo new \"My New Post\" More info: Writing Run serverbash1$ hexo server More info: Server Generate static filesbash1$ hexo generate More info: Generating Deploy to remote sitesbash1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"java","slug":"java","permalink":"http://zhuhui.club/categories/java/"},{"name":"php","slug":"php","permalink":"http://zhuhui.club/categories/php/"},{"name":"go","slug":"go","permalink":"http://zhuhui.club/categories/go/"},{"name":"c++","slug":"c","permalink":"http://zhuhui.club/categories/c/"},{"name":"linux","slug":"linux","permalink":"http://zhuhui.club/categories/linux/"}],"tags":[{"name":"线程","slug":"线程","permalink":"http://zhuhui.club/tags/%E7%BA%BF%E7%A8%8B/"}]}